"use client";
import Link from "next/link";
import {
  Sheet,
  SheetClose,
  SheetContent,
  SheetDescription,
  SheetFooter,
  SheetHeader,
  SheetTrigger,
} from "../ui/sheet";
import Image from "next/image";
import { usePathname } from "next/navigation";
import { useEffect, useState } from "react";
const HeaderMobile = () => {
  const pathname = usePathname();
  const [open, setOpen] = useState(false);

  useEffect(() => {
    setOpen(false);
  }, [pathname]);

  const linkClass = (href: string) =>
    `font-rubik font-medium text-[18px] underline underline-offset-3 cursor-pointer ${
      pathname === href
        ? "text-[#202022] decoration-[#202022]"
        : "text-[#696973] decoration-[#696973] hover:text-[#202022] hover:decoration-[#202022]"
    }`;

  return (
    <div className="md:hidden">
      <Sheet open={open} onOpenChange={setOpen}>
        <SheetTrigger className="group w-[52px] flex items-center justify-center p-[14px] h-[52px] bg-[#696973] hover:bg-[#FCC008] rounded-full text-white hover:text-[#373745] cursor-pointer">
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            className="fill-white group-hover:fill-[#373745]"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M2.04297 5.5C2.04297 5.10946 2.35957 4.79286 2.75011 4.79286H19.2501C19.6407 4.79286 19.9573 5.10946 19.9573 5.5C19.9573 5.89055 19.6407 6.20714 19.2501 6.20714H2.75011C2.35957 6.20714 2.04297 5.89055 2.04297 5.5ZM2.04297 11C2.04297 10.6095 2.35957 10.2929 2.75011 10.2929H19.2501C19.6407 10.2929 19.9573 10.6095 19.9573 11C19.9573 11.3905 19.6407 11.7071 19.2501 11.7071H2.75011C2.35957 11.7071 2.04297 11.3905 2.04297 11ZM2.04297 16.5C2.04297 16.1095 2.35957 15.7929 2.75011 15.7929H19.2501C19.6407 15.7929 19.9573 16.1095 19.9573 16.5C19.9573 16.8905 19.6407 17.2071 19.2501 17.2071H2.75011C2.35957 17.2071 2.04297 16.8905 2.04297 16.5Z"
            />
          </svg>
        </SheetTrigger>
        <SheetContent className="w-full px-5 pt-[30px] pb-[60px]">
          <SheetHeader className="flex flex-row items-center justify-between border-b border-[#DEDFE1] p-0 pb-[30px]">
            <Link href={"/"}>
              <Image
                src={"./logo.svg"}
                alt="logo"
                width={196}
                height={50}
                className="cursor-pointer"
              />
            </Link>
            <SheetClose className="group w-[52px] flex items-center justify-center p-[14px] h-[52px] bg-[#696973] hover:bg-[#FCC008] rounded-full text-white hover:text-[#373745] cursor-pointer">
              <svg
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                className="fill-white group-hover:fill-[#373745]"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M3.16708 3.16664C3.44323 2.89048 3.89097 2.89048 4.16713 3.16664L11.0004 9.99995L17.8337 3.16664C18.1099 2.89048 18.5576 2.89048 18.8338 3.16664C19.11 3.4428 19.11 3.89053 18.8338 4.16669L12.0005 11L18.8338 17.8333C19.11 18.1095 19.11 18.5572 18.8338 18.8334C18.5576 19.1095 18.1099 19.1095 17.8337 18.8334L11.0004 12L4.16713 18.8334C3.89097 19.1095 3.44323 19.1095 3.16708 18.8334C2.89092 18.5572 2.89092 18.1095 3.16708 17.8333L10.0004 11L3.16708 4.16669C2.89092 3.89053 2.89092 3.4428 3.16708 3.16664Z"
                />
              </svg>
            </SheetClose>
          </SheetHeader>

          <nav className="">
            <ul className="flex flex-col gap-10">
              <li>
                <Link href="/products" className={linkClass("/products")}>
                  Products
                </Link>
              </li>
              <li>
                <Link href="/" className={linkClass("/")}>
                  About
                </Link>
              </li>
              <li>
                <Link href="/contacts" className={linkClass("/contacts")}>
                  Contacts
                </Link>
              </li>
            </ul>
          </nav>

          <SheetFooter className="p-0">
            <nav>
              <ul className="flex gap-2.5">
                <li className="group w-[52px] flex items-center justify-center p-[14px] h-[52px] bg-[#696973] hover:bg-[#FCC008] rounded-full text-white hover:text-[#373745] cursor-pointer">
                  <Link href={"/products"}>
                    <svg
                      width="24"
                      height="20"
                      viewBox="0 0 24 20"
                      fill="none"
                      className="fill-white group-hover:fill-[#373745]"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M22.0507 0.617927L0.787802 8.45144C-0.0678542 8.81624 -0.35726 9.54677 0.580989 9.94325L6.03583 11.5994L19.2249 3.81204C19.9451 3.32316 20.6823 3.45353 20.0479 3.99132L8.72027 13.79L8.36444 17.9368C8.69402 18.5771 9.29748 18.5801 9.68242 18.2618L12.8164 15.4288L18.1838 19.2686C19.4304 19.9737 20.1088 19.5187 20.377 18.2263L23.8975 2.3001C24.2631 0.709349 23.6397 0.00844628 22.0507 0.617927Z" />
                    </svg>
                  </Link>
                </li>
                <li className="group w-[52px] flex items-center justify-center p-[14px] h-[52px] bg-[#696973] hover:bg-[#FCC008] rounded-full text-white hover:text-[#373745] cursor-pointer">
                  <Link href={"/about"}>
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      className="fill-white group-hover:fill-[#373745]"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M10.9861 0.399944C12.066 0.402824 12.6141 0.408584 13.0873 0.422023L13.2736 0.428743C13.4886 0.436423 13.7007 0.446022 13.957 0.457542C14.9784 0.505539 15.6753 0.666812 16.2868 0.903921C16.9203 1.14775 17.4541 1.47797 17.9878 2.01075C18.4759 2.49063 18.8536 3.07111 19.0946 3.71179C19.3317 4.32328 19.4929 5.02021 19.5409 6.04256C19.5525 6.29791 19.5621 6.51006 19.5697 6.72605L19.5755 6.91228C19.5899 7.38458 19.5957 7.93271 19.5976 9.01266L19.5985 9.72879V10.9863C19.6009 11.6865 19.5935 12.3867 19.5765 13.0867L19.5707 13.2729C19.563 13.4889 19.5534 13.7011 19.5419 13.9564C19.4939 14.9788 19.3307 15.6748 19.0946 16.2872C18.8543 16.9282 18.4765 17.5089 17.9878 17.9882C17.5078 18.4762 16.9274 18.8539 16.2868 19.0951C15.6753 19.3322 14.9784 19.4935 13.957 19.5415C13.7293 19.5522 13.5014 19.5618 13.2736 19.5702L13.0873 19.576C12.6141 19.5894 12.066 19.5962 10.9861 19.5981L10.27 19.599H9.01341C8.31291 19.6015 7.61241 19.5941 6.91212 19.577L6.7259 19.5712C6.49802 19.5626 6.27019 19.5527 6.04243 19.5415C5.02106 19.4935 4.32416 19.3322 3.71172 19.0951C3.07113 18.8545 2.4909 18.4767 2.01169 17.9882C1.52313 17.5085 1.14509 16.928 0.90393 16.2872C0.666828 15.6757 0.50556 14.9788 0.457564 13.9564C0.446869 13.7287 0.437269 13.5008 0.428766 13.2729L0.423966 13.0867C0.406277 12.3867 0.398276 11.6865 0.399968 10.9863V9.01266C0.397289 8.31247 0.404329 7.61228 0.421086 6.91228L0.427806 6.72605C0.435485 6.51006 0.445085 6.29791 0.456604 6.04256C0.5046 5.02021 0.665868 4.32424 0.90297 3.71179C1.14402 3.07045 1.52282 2.48979 2.01265 2.01075C2.49174 1.52259 3.07159 1.14486 3.71172 0.903921C4.32416 0.666812 5.0201 0.505539 6.04243 0.457542C6.29777 0.446022 6.51087 0.436423 6.7259 0.428743L6.91212 0.422983C7.6121 0.405927 8.31227 0.398567 9.01245 0.400904L10.9861 0.399944ZM9.99925 5.19972C8.72631 5.19972 7.5055 5.70541 6.60539 6.60554C5.70529 7.50567 5.19961 8.72652 5.19961 9.9995C5.19961 11.2725 5.70529 12.4933 6.60539 13.3935C7.5055 14.2936 8.72631 14.7993 9.99925 14.7993C11.2722 14.7993 12.493 14.2936 13.3931 13.3935C14.2932 12.4933 14.7989 11.2725 14.7989 9.9995C14.7989 8.72652 14.2932 7.50567 13.3931 6.60554C12.493 5.70541 11.2722 5.19972 9.99925 5.19972ZM9.99925 7.11963C10.3774 7.11957 10.7519 7.194 11.1013 7.33866C11.4508 7.48333 11.7683 7.69541 12.0357 7.96278C12.3032 8.23016 12.5153 8.5476 12.6601 8.89698C12.8049 9.24635 12.8795 9.62083 12.8795 9.99902C12.8796 10.3772 12.8052 10.7517 12.6605 11.1011C12.5158 11.4506 12.3038 11.7681 12.0364 12.0355C11.769 12.303 11.4516 12.5152 11.1022 12.66C10.7529 12.8047 10.3784 12.8793 10.0002 12.8794C9.23645 12.8794 8.50396 12.5759 7.9639 12.0359C7.42383 11.4958 7.12043 10.7633 7.12043 9.9995C7.12043 9.23571 7.42383 8.5032 7.9639 7.96312C8.50396 7.42304 9.23645 7.11963 10.0002 7.11963M15.0398 3.75979C14.7216 3.75979 14.4164 3.88621 14.1914 4.11124C13.9663 4.33628 13.8399 4.64149 13.8399 4.95973C13.8399 5.27798 13.9663 5.58319 14.1914 5.80822C14.4164 6.03325 14.7216 6.15968 15.0398 6.15968C15.3581 6.15968 15.6633 6.03325 15.8883 5.80822C16.1133 5.58319 16.2397 5.27798 16.2397 4.95973C16.2397 4.64149 16.1133 4.33628 15.8883 4.11124C15.6633 3.88621 15.3581 3.75979 15.0398 3.75979Z" />
                    </svg>
                  </Link>
                </li>
                <li className="group w-[52px] flex items-center justify-center p-[14px] h-[52px] bg-[#696973] hover:bg-[#FCC008] rounded-full text-white hover:text-[#373745] cursor-pointer">
                  <Link href={"/contacts"}>
                    <svg
                      width="24"
                      height="18"
                      viewBox="0 0 24 18"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      className="fill-white group-hover:fill-[#373745]"
                    >
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M23.3074 3.90998C23.1815 2.99742 22.8703 2.12764 22.3968 1.36505C21.766 0.712072 20.9448 0.325647 20.0791 0.27436C16.8507 0.0925789 11.9668 0.0925789 11.9668 0.0925789C11.9668 0.0925789 7.08293 0.0925789 3.8546 0.36525C2.98413 0.297028 2.13223 0.664505 1.53682 1.36505C1.05117 2.12052 0.7388 2.99356 0.626263 3.90998C0.473828 5.26716 0.390919 6.63267 0.37793 8.00005V9.90875C0.386691 11.2763 0.469616 12.6421 0.626263 13.9988C0.752113 14.9114 1.06331 15.7812 1.53682 16.5438C2.24958 17.2259 3.15767 17.6118 4.10293 17.6344C5.92404 17.8162 11.9668 17.9071 11.9668 17.9071C11.9668 17.9071 16.8507 17.9071 20.0791 17.6344C20.9448 17.5832 21.766 17.1967 22.3968 16.5438C22.8825 15.7883 23.1948 14.9152 23.3074 13.9988C23.4598 12.6416 23.5427 11.2761 23.5557 9.90875V8.00005C23.5427 6.63267 23.4598 5.26716 23.3074 3.90998ZM9.56637 12.2721V5.0918L15.8575 8.63653L9.56637 12.2721Z"
                      />
                    </svg>
                  </Link>
                </li>
              </ul>
            </nav>
          </SheetFooter>
        </SheetContent>
      </Sheet>
    </div>
  );
};
export default HeaderMobile;
